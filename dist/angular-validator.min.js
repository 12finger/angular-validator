angular.module("angularValidator",[]),angular.module("angularValidator").directive("angularValidator",function(){return{restrict:"A",link:function(a,b){function c(a){for(var b=0;b<a.length;b++)b in a&&d(a[b])}function d(b){a.$watch(function(){return b.value+k.submitted+e(b)+k[b.name].$dirty},function(){f(b),i(b)})}function e(b){if("validator"in b.attributes){var c=a.$eval(b.attributes.validator.value);return k[b.name].$setValidity("angularValidator",c),c}}function f(b){var c=function(){return"<i class='fa fa-times'></i> Required"},d=function(){return"<i class='fa fa-times'></i> Invalid"};if(b.name in k){var e=k[b.name];if(e.$dirty||a[b.form.name].submitted){var f=h(b);f&&f.remove(),e.$error.required?angular.element(b).after("required-message"in b.attributes?g(b.attributes["required-message"].value):g(c)):e.$valid||angular.element(b).after("invalid-message"in b.attributes?g(b.attributes["invalid-message"].value):g(d))}}}function g(b){return"<label class='control-label has-error validationMessage'>"+a.$eval(b)+"</label>"}function h(a){for(var b=angular.element(a).parent().children(),c=0;c<b.length;c++)if(angular.element(b[c]).hasClass("validationMessage"))return angular.element(b[c]);return!1}function i(b){if(b.name in k){var c=k[b.name];(c.$dirty||a[b.form.name].submitted)&&(c.$valid?(angular.element(b.parentNode).removeClass("has-error"),angular.element(b).removeClass("has-error")):c.$invalid&&(angular.element(b.parentNode).addClass("has-error"),angular.element(b).addClass("has-error")))}}var j=angular.element(b)[0],k=a[j.name];k.submitted=!1,b.on("submit",function(b){b.preventDefault(),a.$apply(function(){k.submitted=!0}),k.$valid&&a.$eval(j.attributes["angular-validator-submit"].value)}),c(j)}}});